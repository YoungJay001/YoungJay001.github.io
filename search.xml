<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>加密文件测试</title>
      <link href="/2025/07/01/%E5%8A%A0%E5%AF%86%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
      <url>/2025/07/01/%E5%8A%A0%E5%AF%86%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="782645bfbec52dfbf8504936cb21837cf08ee896bd94ec99f77168b96c05a173">5ca65f6e409a4516abcdbdfd3545ebf1e148b557f445483c921f4cb45c596bd031e4ca14f5e5475e030e485715984599570c36f24a08dca5af5fae8bf8e21a58c133c71d344282f4b1f03f7bc00f450541098fd3574bb6345562094847df7a168ac7f2bb7925efb5b7a5cab313841539baab2e512bd2f5c42e241e0400f833047fb65042adb000d4eaa21ff54cf13d3663238a9dd83c19389aa63a10fdb683c70756e189ec32c1069b0400b0d1d57680b630cbf5c9896a845141dc9a4c98c9dd1931893adb77532ee81232fb55d4ed6d</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-xray">      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">您好, 这里需要密码.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> 其他 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>你的第一个基于fiscobcos的前后端项目（开源免费）</title>
      <link href="/2025/07/01/%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EFISCOBCOS%E7%9A%84%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8F%91%E8%A1%8C%E8%BD%AC%E8%B4%A6%EF%BC%89%EF%BC%88%E5%85%8D%E8%B4%B9%EF%BC%89/"/>
      <url>/2025/07/01/%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8EFISCOBCOS%E7%9A%84%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8F%91%E8%A1%8C%E8%BD%AC%E8%B4%A6%EF%BC%89%EF%BC%88%E5%85%8D%E8%B4%B9%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<blockquote><p>  本文旨在介绍一个简单的基于fiscobcos的前后端网站应用。Springboot+js前后端不分离。</p><p>所使用到的合约也是一个最基本的。首先您需要知道的是完整项目分为三部分，1是区块链平台webase搭建（此项目使用节点前置webase-front即可），2是智能合约编写（此项目使用的合约是webase自带的Asset合约，便于后者学习），3是前后端代码编写以及连接区块链平台（此项目后端为spring boot,前端仅仅使用了css+html+js）。OK，介绍完毕，那我们正式开始吧！</p><h2 id="获取方式在文末"><a href="#获取方式在文末" class="headerlink" title="获取方式在文末"></a>获取方式在文末</h2></blockquote><p><strong>目录</strong></p><p><a href="#一.才艺展示">一.才艺展示</a></p><p><a href="#一.区块链平台搭建">一.区块链平台搭建</a></p><p><a href="#二，智能合约编写">二，智能合约编写</a></p><p><a href="#三，前后端">三，前后端</a></p><p><a href="#功能演示：">功能演示：</a></p><h2 id="一-才艺展示"><a href="#一-才艺展示" class="headerlink" title="一.才艺展示"></a>一.才艺展示</h2><blockquote><p>先展示图片，在文末展示具体功能</p></blockquote><p><img src="/image1/eaa7c573797d44ba9b7256b1587077a5.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/e31910f4b4694c62a38666c5339fbcec.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h2 id="一-区块链平台搭建"><a href="#一-区块链平台搭建" class="headerlink" title="一.区块链平台搭建"></a>一.区块链平台搭建</h2><p>1.搭建单机4节点。<a href="https://blog.csdn.net/2302_77339802/article/details/131702619">戳我查看</a>  （console可以不用搭建，但是java肯定要下载）</p><p>2.搭建webase-front节点前置</p><ul><li>下载安装包（建议在fisco文件下面）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeBASE/releases/download/v1.5.5/webase-front.zip</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/9ea5f7283e4249d29ce2404e877da863.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><ul><li>解压</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip webase-front.zip</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd webase-front</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><ul><li>拷贝sdk证书文件</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r ../nodes/127.0.0.1/sdk/* ./conf/</span><br></pre></td></tr></table></figure><ul><li>启动节点</li></ul><p>进入~/fisco/nodes/127.0.0.1目录上</p><p><img src="/image1/5cf7d9073740cecba92ad9c88e126d41.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="https://i-blog.csdnimg.cn/direct/1ada4078ad0d47218f914991ad221634.gif![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="img">编辑</p><ul><li>配置java环境变量</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/</span><br></pre></td></tr></table></figure><p>启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd &amp;&amp;cd fisco</span><br><span class="line">cd webase-front</span><br><span class="line"></span><br><span class="line">bash start.sh</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/9be8353e1b4e594f16b8cdf4f212a7c3.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><ul><li>输入ip a 查询到你的虚拟机IP</li></ul><p><img src="/image1/56843522324f49f784f5480ff2f25c36.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><ul><li>在浏览器中输入</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://虚拟机IP:5002/WeBASE-Front</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/2cfd8c4c9f484a1aa3ae16c69914d557.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 至此，区块链平台已经搭建。</p><h2 id="二，智能合约编写"><a href="#二，智能合约编写" class="headerlink" title="二，智能合约编写"></a>二，智能合约编写</h2><blockquote><p>好的，到了我们第二部分了，智能合约可以理解为是我们连接区块链平台的介质，本项目作为最适合新手学习的项目，所以采用的合约是webase-front自带的合约Asset，在我的项目内进行了简单的修改。</p></blockquote><p><img src="/image1/e5b0153a225e4a1fa90fb5588a2cc320.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/20250701111854025.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>我修改后的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.0;</span><br><span class="line"></span><br><span class="line">contract Asset &#123;</span><br><span class="line">    address public issuer;</span><br><span class="line">    mapping (address =&gt; uint) public balances;</span><br><span class="line"></span><br><span class="line">    event Sent(address from, address to, uint amount);</span><br><span class="line"></span><br><span class="line">    constructor() &#123;</span><br><span class="line">        issuer = msg.sender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function issue(address receiver, uint amount) public &#123;</span><br><span class="line">      require(msg.sender == issuer, &quot;Only issuer can issue tokens&quot;);</span><br><span class="line">        balances[receiver] += amount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function send(address receiver, uint amount) public &#123;</span><br><span class="line">      require(balances[msg.sender] &gt;= amount, &quot;Insufficient balance&quot;);</span><br><span class="line">        balances[msg.sender] -= amount;</span><br><span class="line">        balances[receiver] += amount;</span><br><span class="line">        emit Sent(msg.sender, receiver, amount);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    function getBalance(address account) public  view returns (uint) &#123;</span><br><span class="line">        return balances[account];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>然后我们编译部署该合约</p><p><img src="/image1/bb878005298d4609a98fad1f50a22be8.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 部署成功后会得到合约地址以及abi的信息，这两个信息可以在后端里进行调用。</p><p>合约一共有三个功能（发行，转账，查看余额）</p><h2 id="三，前后端"><a href="#三，前后端" class="headerlink" title="三，前后端"></a>三，前后端</h2><blockquote><p>首先展示一下项目目录，可以看到核心代码文件。后端调用智能合约，然后前端进行可视化操作。</p></blockquote><p><img src="/image1/977423be19644103912dfc042c4f704e.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>后端主要配置文件的地方</p><p><img src="/image1/c61a8293a44d4873b6c89961b1e20351.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h3 id="功能演示："><a href="#功能演示：" class="headerlink" title="功能演示："></a>功能演示：</h3><p>代币发行：</p><p>登录管理员账户，发行代币。</p><p><img src="/image1/3f14cbb4a5a74575982fda138b10eb61.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>如果不是管理员账户则发行失败：</p><p><img src="/image1/f0822ba2eafe4bc0a8e431212818548b.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><blockquote><p>这里的权限控制是合约进行的。只需要一行代码，神奇吧。</p></blockquote><p><img src="/image1/d0168b455e8e4f14a8197c74cb5469ba.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>查询余额：</p><p><img src="/image1/8dd1063e9cd148db9457c2036ee77d09.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>用户之间转账：</p><p><img src="/image1/52d13a987a7d4b1f82162b059ae3f8da.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><blockquote><p>此时验证数据上链的时候到了。我们打开节点控制台。</p></blockquote><p><img src="/image1/a2c577d5e03b47b9b45ffafeaa75b477.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/bffbe64da3264220acc7fe144713da88.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/cd4e38df778e4c6fb30bf54a3f19110e.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>此时可以看到数据确实在链上显示~</p><p>OK，至此功能演示完毕！</p><blockquote><p>想要源码可以私信~   觉得有意思可以举起你发财的小手帮我点个赞~~</p></blockquote><h3 id="下载的话记得点一个star哦"><a href="#下载的话记得点一个star哦" class="headerlink" title="下载的话记得点一个star哦~"></a>下载的话记得点一个star哦~</h3>]]></content>
      
      
      <categories>
          
          <category> 区块链 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> fiscobcos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Solidity优质例子（二）物流的增删改查智能合约（附truffle测试）</title>
      <link href="/2025/07/01/Solidity%E4%BC%98%E8%B4%A8%E4%BE%8B%E5%AD%90%EF%BC%88%E4%BA%8C%EF%BC%89%E7%89%A9%E6%B5%81%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%88%E9%99%84truffle%E6%B5%8B%E8%AF%95%EF%BC%89/"/>
      <url>/2025/07/01/Solidity%E4%BC%98%E8%B4%A8%E4%BE%8B%E5%AD%90%EF%BC%88%E4%BA%8C%EF%BC%89%E7%89%A9%E6%B5%81%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%88%E9%99%84truffle%E6%B5%8B%E8%AF%95%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本合约非常适合新手学习，其包含了基本的增删改查功能以及各个方式的不同之处的总结，本套合约我也编写了truffle测试，学习truffle测试的小伙伴也有福了~</p><p>该合约的主要作用是通过区块链技术实现物流追踪系统的透明化、自动化与防篡改特性，确保包裹在整个运输过程中都能被准确、实时地追踪。它特别适用于那些希望实现去中心化物流管理的场景，减少对中心化机构的依赖，提升物流过程的效率和透明度。</p></blockquote><p><strong>目录</strong></p><p><a href="#一.合约功能演示">一.合约功能演示</a></p><p><a href="#1.添加包裹 (addPackage">1.添加包裹 (addPackage):</a>:)</p><p><a href="#2.更新包裹信息 (updatePackage">2.更新包裹信息 (updatePackage):</a>:)</p><p><a href="#3.删除包裹 (deletePackage">3.删除包裹 (deletePackage):</a>:)</p><p><a href="#4.按发送者查询包裹 (getPackagesBySender 和 getPackagesBySender1">4.按发送者查询包裹 (getPackagesBySender 和 getPackagesBySender1):</a>:)</p><p><a href="#二.truffle测试">二.truffle测试</a></p><p><a href="#Truffle 测试功能：">Truffle 测试功能：</a></p><p><a href="#成果：">成果：</a></p><hr><h2 id="一-合约功能演示"><a href="#一-合约功能演示" class="headerlink" title="一.合约功能演示"></a>一.合约功能演示</h2><p><strong>包裹结构体 (<code>Package</code>)</strong>:</p><ul><li>合约定义了一个名为 <code>Package</code> 的结构体，用于存储每个包裹的信息，包括包裹的唯一 ID、发送者、接收者、当前位置、状态和时间戳。这些信息将帮助追踪包裹在物流链中的流转过程</li></ul><p><img src="/image1/4/4ad15eb5e1674a72abcb81f2bd44655b.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h3 id="1-添加包裹-addPackage"><a href="#1-添加包裹-addPackage" class="headerlink" title="1.添加包裹 (addPackage):"></a><strong>1.添加包裹 (<code>addPackage</code>)</strong>:</h3><p><img src="/image1/4/b6c58f8eae7c44e4819eade920742d02.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/4/bd045456b85945749e2877b8c386ef28.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>初始的状态设置为0，并且记录当前时间戳。</p><h3 id="2-更新包裹信息-updatePackage"><a href="#2-更新包裹信息-updatePackage" class="headerlink" title="2.更新包裹信息 (updatePackage):"></a><strong>2.更新包裹信息 (<code>updatePackage</code>)</strong>:</h3><p><img src="/image1/4/f514ec421cd14bd09b3dac7fe352c557.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/4/7d2c794ba66a471eaf6b634e3b5aa982.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>在这里我们不仅可以使用整体更改法也可以单独更改：(示例)</p><p><img src="/image1/4/2a8dd6f61c694077b31d0d6e9564c15c.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h3 id="3-删除包裹-deletePackage"><a href="#3-删除包裹-deletePackage" class="headerlink" title="3.删除包裹 (deletePackage):"></a><strong>3.删除包裹 (<code>deletePackage</code>)</strong>:</h3><ul><li>该功能允许用户删除包裹信息，这意味着该包裹的记录将从系统中移除。</li></ul><p><img src="/image1/4/b1b1f97c4dee48c08dbd8702c22ca6cb.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>只需要加上我们的delete关键字，但其实并不是真的删除，只是把id对应的信息赋值为空。</p><h3 id="4-按发送者查询包裹-getPackagesBySender-和-getPackagesBySender1"><a href="#4-按发送者查询包裹-getPackagesBySender-和-getPackagesBySender1" class="headerlink" title="4.按发送者查询包裹 (getPackagesBySender 和 getPackagesBySender1):"></a><strong>4.按发送者查询包裹 (<code>getPackagesBySender</code> 和 <code>getPackagesBySender1</code>)</strong>:</h3><ul><li>合约提供了按发送者姓名查询该发送者所有包裹信息的功能。</li><li><code>getPackagesBySender</code> 返回该发送者所有包裹的详细信息。</li></ul><p><img src="/image1/4/c992e3d5f50b4bef9b0ccd08e6de4401.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><ul><li><code>getPackagesBySender1</code> 提供了更加分离的数据形式，返回发送者、接收者、当前位置、状态和时间戳等信息的数组。</li><li><p><img src="/image1/4/7e8e317c725147ff949dd9e3450579fe.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>这两个代码返回的形式也有一定的区别</p></li></ul><p><img src="/image1/4/a318026fc8144860890d3cdcba6df4f3.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><blockquote><p>这里面还有一个知识是，返回多个数组时需要提前确定好长度~</p></blockquote><h2 id="二-truffle测试"><a href="#二-truffle测试" class="headerlink" title="二.truffle测试"></a>二.truffle测试</h2><blockquote><p>Truffle 是一个功能强大的开发框架，专门用于以太坊和其他基于 EVM（Ethereum Virtual Machine）的区块链开发。它提供了开发、编译、部署和测试智能合约的工具，帮助开发者快速构建去中心化应用（DApps）。其中，<strong>Truffle 测试</strong>功能特别重要，用来确保智能合约在部署到区块链前表现正确。</p><h3 id="Truffle-测试功能："><a href="#Truffle-测试功能：" class="headerlink" title="Truffle 测试功能："></a>Truffle 测试功能：</h3><ol><li><strong>自动化测试环境</strong>： Truffle 使用 <code>Mocha</code> 和 <code>Chai</code> 作为内置的测试框架，允许开发者编写 JavaScript 或 Solidity 格式的测试用例。这些工具支持异步操作和断言，确保测试灵活且直观。</li><li><strong>测试智能合约的部署和交互</strong>： Truffle 自动部署智能合约到测试网络（如本地的 Ganache 或者 Truffle 的开发网络），并模拟与合约的交互过程。你可以调用合约的各种函数并检查返回值或状态的变化。</li><li><strong>模拟区块链行为</strong>： Truffle 测试环境可以模拟区块链上的行为，比如账户、交易、Gas 消耗等，帮助开发者捕捉智能合约中的潜在问题。</li><li><strong>状态回滚</strong>： Truffle 支持在每个测试用例运行后，自动回滚到初始状态，这样不同的测试用例不会互相影响，确保测试结果的独立性。</li><li><strong>断言测试结果</strong>： 使用 <code>Chai</code> 断言库，开发者可以验证合约函数的返回值、事件的触发、交易的成功与否等。断言语句是测试的核心，用来确认合约在各种条件下是否表现正确。</li></ol></blockquote><p>根据本合约编写</p><p>展示部分代码：</p><p><img src="/image1/4/7e334f78cbc043e298855a13221165a7.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 具体方法：<a href="https://blog.csdn.net/2302_77339802/article/details/134451494">FISCOBCOS入门（十）Truffle测试helloworld智能合约_fisco bcos区块链测试相关题目-CSDN博客</a></p><blockquote><h3 id="获取源码私"><a href="#获取源码私" class="headerlink" title="获取源码私"></a>获取源码私</h3></blockquote>]]></content>
      
      
      <categories>
          
          <category> 智能合约 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 智能合约 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Solidity优质例子（一）食品溯源智能合约</title>
      <link href="/2025/07/01/Solidity%E4%BC%98%E8%B4%A8%E4%BE%8B%E5%AD%90%EF%BC%88%E4%B8%80%EF%BC%89%E9%A3%9F%E5%93%81%E6%BA%AF%E6%BA%90%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/"/>
      <url>/2025/07/01/Solidity%E4%BC%98%E8%B4%A8%E4%BE%8B%E5%AD%90%EF%BC%88%E4%B8%80%EF%BC%89%E9%A3%9F%E5%93%81%E6%BA%AF%E6%BA%90%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/</url>
      
        <content type="html"><![CDATA[<blockquote><p> 这个智能合约<strong>FoodInfoItem</strong>的功能是管理食品的追溯信息，包括食品在不同阶段的流转、质量记录、消费者评分等。它通过区块链记录食品的生产、分销和销售过程，确保每一环节的透明和不可篡改性。</p><h3 id="实际生活中的用途："><a href="#实际生活中的用途：" class="headerlink" title="实际生活中的用途："></a>实际生活中的用途：</h3><ol><li><strong>食品安全和质量控制</strong>：<ul><li>该合约可以应用于食品行业，帮助消费者追溯食品的生产和流通过程，从生产、运输、储存到销售各环节，记录不可篡改，确保食品安全和质量。</li><li>生产商可以通过该合约记录食品的生产日期、制造工厂等信息，并让消费者查看食品的全生命周期，增加透明度。</li></ul></li><li><strong>消费者信任建立</strong>：<ul><li>消费者可以通过该合约查看食品的追溯信息，尤其是食品在生产和分销过程中的质量评分，从而放心购买高质量食品。用户的评分也可以为其他消费者提供参考。</li></ul></li><li><strong>供应链透明化</strong>：<ul><li>供应链中的每个参与者（如生产商、分销商等）都可以将他们的行为记录在区块链上，确保责任明确。如果食品在某个环节出现问题，可以追溯到具体的环节和负责人。</li></ul></li><li><strong>食品质量监控</strong>：<ul><li>食品公司可以通过合约定期检查低质量追溯记录，主动采取措施改进，避免因某个环节的质量问题影响整个产品声誉。</li></ul></li></ol><p>这种智能合约能帮助食品行业提升透明度，增强消费者对产品的信任，同时对质量问题的监控更具数据支撑。</p></blockquote><h3 id="合约的主要功能："><a href="#合约的主要功能：" class="headerlink" title="合约的主要功能："></a>合约的主要功能：</h3><p>1.合约初始化：</p><p><img src="/image1/3/15ca2e36ed5b45f587bc8a0b05371726.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/3/585d832dc8b64635a850853c4fecbabe.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><blockquote><p>参数：产品名字，追溯环节的名称，当前环节的质量评分0-10，生产者地址</p></blockquote><p>编译部署成功之后：</p><p><img src="/image1/3/84056f64d66d4313a65ae747d23271c1.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><p>1.通过分销商添加追溯信息</p><p><img src="/image1/3/fed0c7388c1348228610fd3fd1118959.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 相关代码：</p><p><img src="/image1/3/ca0b9bf7713346209d162198c32cf099.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 2.通过用户添加追溯信息</p><p><img src="/image1/3/cdb16aac2f434713ad42799caa2271fe.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>相关代码：</p><p><img src="/image1/3/10d921f33bd94d0993c37c9ca630fa29.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>3.用户评分（允许购买了食品的用户对食品进行评分或评论）</p><p><img src="/image1/3/f09bd68657904af69bbf19cbb955c4ae.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/3/b69d5cc554594577a06f165c18ce3842.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>4.查询食品的追溯信息</p><p><strong>返回值</strong>：返回一个包含所有追溯记录的 <code>TraceInfo</code> 数组。</p><p><img src="/image1/3/95daf6f6d0ff488bb43a42ace266a161.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>5.查询食品的基本信息</p><p><strong>返回值</strong>：</p><ul><li>最早的时间戳、追溯名称、食品名称、当前追溯名称、生产商地址、当前质量评分。</li></ul><p><img src="/image1/3/b213464ba4734b09b35b172476f63e8b.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>6.查询用户评价</p><p><img src="/image1/3/464d7205391a427f9d9de768117e49c4.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>7.查询低质量追溯记录（这个功能调试很久！！）</p><p>遍历所有追溯记录，筛选出质量评分低于阈值的记录，并返回。</p><p><img src="/image1/3/1d3cacb72dab4e2caff362398fb283e5.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><blockquote><p>合约结束~获取私信我！     觉得有用一键三连！拜托</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 智能合约 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 智能合约 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用web3工具结合fiscobcos网络部署调用智能合约</title>
      <link href="/2025/07/01/%E4%BD%BF%E7%94%A8web3%E5%B7%A5%E5%85%B7%E7%BB%93%E5%90%88fiscobcos%E7%BD%91%E7%BB%9C%E9%83%A8%E7%BD%B2%E8%B0%83%E7%94%A8%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/"/>
      <url>/2025/07/01/%E4%BD%BF%E7%94%A8web3%E5%B7%A5%E5%85%B7%E7%BB%93%E5%90%88fiscobcos%E7%BD%91%E7%BB%9C%E9%83%A8%E7%BD%B2%E8%B0%83%E7%94%A8%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/</url>
      
        <content type="html"><![CDATA[<blockquote><h3 id="借助-web3-工具，在-FISCO-BCOS-网络上高效部署与调用智能合约，解锁区块链开发新体验。"><a href="#借助-web3-工具，在-FISCO-BCOS-网络上高效部署与调用智能合约，解锁区块链开发新体验。" class="headerlink" title="借助 web3 工具，在 FISCO BCOS 网络上高效部署与调用智能合约，解锁区块链开发新体验。"></a>借助 web3 工具，在 FISCO BCOS 网络上高效部署与调用智能合约，解锁区块链开发新体验。</h3><p>搭建的区块链网络需要是最新的fiscobcos3.0，最新的才支持web3调用</p><p>现在分享踩坑经验，希望大家点赞</p></blockquote><p><strong>目录</strong></p><p><a href="#1.搭建fiscobcos节点（3.0Air版本）">1.搭建fiscobcos节点（3.0Air版本）</a></p><p><a href="#2.修改网络配置使外部能够连接web3网络">2.修改网络配置使外部能够连接web3网络</a></p><p><a href="#3.搭建控制台console">3.搭建控制台console</a></p><p><a href="#ubuntu下载配置java">ubuntu下载配置java</a></p><p><a href="#下载配置console">下载配置console</a></p><p><a href="#启动并使用控制台">4.启动并使用控制台</a></p><p><a href="#5.链接metamask并在remix里编译部署一个智能合约">5.链接metamask并在remix里编译部署一个智能合约</a></p><p><a href="#6.编译部署合约：">6.编译部署合约：</a></p><hr><h4 id="1-搭建fiscobcos节点（3-0Air版本）"><a href="#1-搭建fiscobcos节点（3-0Air版本）" class="headerlink" title="1.搭建fiscobcos节点（3.0Air版本）"></a>1.搭建fiscobcos节点（3.0Air版本）</h4><p><strong>安装ubuntu依赖</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y curl openssl wget</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>创建操作目录，下载建链脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 创建操作目录</span><br><span class="line">cd ~ &amp;&amp; mkdir -p fisco &amp;&amp; cd fisco</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">curl -#LO https://gitee.com/FISCO-BCOS/FISCO-BCOS/releases/download/v3.11.0/build_chain.sh &amp;&amp; chmod u+x build_chain.sh</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>首先需要在github下载fisco-bcos二进制文件，然后传到fisco文件夹下面，然后尝试执行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash build_chain.sh -l127.0.0.1:4 -p30300,20200 -e ./fisco-bcos</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p> 这个时候你会发现因为github原因还是拉取不下来</p><p>解决：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">打开host文件: sudo gedit /etc/hosts,然后输入</span><br><span class="line"></span><br><span class="line">#github</span><br><span class="line">140.82.114.4 github.com</span><br><span class="line">151.101.1.6 github.global.ssl.fastly.net</span><br><span class="line">151.101.65.6 github.global.ssl.fastly.net</span><br><span class="line">151.101.129.6 github.global.ssl.fastly.net</span><br><span class="line">151.101.193.6 github.global.ssl.fastly.net</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/20250701093200183.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>#保存退出并重启服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart NetworkManager</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p> 重新执行搭建区块链网络</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash build_chain.sh -l127.0.0.1:4 -p30300,20200 -e ./fisco-bcos</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/20250701093117361.png" alt="image-20250522113147503"></p><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h4 id="2-修改网络配置使外部能够连接web3网络"><a href="#2-修改网络配置使外部能够连接web3网络" class="headerlink" title="2.修改网络配置使外部能够连接web3网络"></a>2.修改网络配置使外部能够连接web3网络</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[web3_rpc]</span><br><span class="line">    enable=false  //将false改为true</span><br><span class="line">    listen_ip=0.0.0.0</span><br><span class="line">    listen_port=8545</span><br><span class="line">    thread_count=8</span><br><span class="line">    </span><br></pre></td></tr></table></figure><p>在节点0的相关配置下面</p><p><img src="/image1/20250701093208708.png" alt="image-20250522113518693"></p><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/20250701093212511.png" alt="image-20250522113631865"></p><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 启动节点</p><p><img src="/image1/42cd623771545cf1e6eeb0c939d1fc96.png" alt="image-20250522113341029"></p><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>检查是否启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep -v grep | grep fisco-bcos</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><h4 id="编辑"><a href="#编辑" class="headerlink" title="编辑"></a><img src="/image1/20250701093217753.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</h4><h4 id="3-搭建控制台console"><a href="#3-搭建控制台console" class="headerlink" title="3.搭建控制台console"></a>3.搭建控制台console</h4><p>fiscobcos可以通过控制台设置账户金额</p><h4 id="ubuntu下载配置java"><a href="#ubuntu下载配置java" class="headerlink" title="ubuntu下载配置java"></a>ubuntu下载配置java</h4><p>首先需要下载java14（这个是官方推荐，我试了也没问题）</p><p>下载地址：<a href="https://www.oracle.com/sg/java/technologies/javase/jdk14-archive-downloads.html">Java Archive Downloads - Java SE 14 | Oracle Singapore</a></p><p>下载的时候需要登录，这里附上一个 oracle 账号密码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">账号：`83926039@qq.com`</span><br><span class="line">密码：`Oracle0.`</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/20250701093225022.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>创建安装目录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /usr/lib/jvm/</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>把下载的文件拖进fisco目录下然后解压缩：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -xvzf jdk-14.0.2_linux-x64_bin.tar.gz -C /usr/lib/jvm/</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/20250701093229918.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>将 JAVA_HOME 添加到环境变量中：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/profile</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>添加以下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/jdk-14.0.2</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/20250701093233337.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>保存并退出后，运行以下命令使更改生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>查看java是否成功</p><p><img src="/image1/1cd995b1f786447d964e8effc827a3ff.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h4 id="下载配置console"><a href="#下载配置console" class="headerlink" title="下载配置console"></a>下载配置console</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">curl -#LO https://gitee.com/FISCO-BCOS/console/raw/master/tools/download_console.sh &amp;&amp; bash download_console.sh</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><strong>拷贝控制台配置文件</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -n console/conf/config-example.toml console/conf/config.toml</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><strong>配置控制台证书</strong></p><p>控制台与节点之间默认开启 SSL 连接，控制台需要配置证书才可连接节点。开发建链脚本在生成节点的同时，生成了 SDK 证书，可直接拷贝生成的证书供控制台使用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r nodes/127.0.0.1/sdk/* console/conf</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><h3 id="4-启动并使用控制台"><a href="#4-启动并使用控制台" class="headerlink" title="4.启动并使用控制台"></a>4.启动并使用控制台</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/fisco/console &amp;&amp; bash start.sh</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/20250701093236852.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>启动完控制台后，可以选择把余额功能打开：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 开启总体功能</span><br><span class="line">setSystemConfigByKey feature_balance 1</span><br><span class="line"># 开启Balance预编译功能</span><br><span class="line">setSystemConfigByKey feature_balance_precompiled 1</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p> <img src="/image1/20250701093240349.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>查看admin账户，记住当前账号的私钥。等会导入小狐狸钱包的时候有用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash get_account.sh -k ../nodes/ca/accounts/0x43d3b352c673d8729a238e3606c118ef232b63d9.pem</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p><img src="/image1/20250701093244079.png" alt="image-20250522124103476"></p><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>为了能在控制台使用治理委员的功能，所以我们需要把账户私钥对放在<code>~/fisco/console/account/ecdsa/</code> 目录下。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp -r ../nodes/ca/accounts/0x43d3b352c673d8729a238e3606c118ef232b63d9.pem account/ecdsa/</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>修改私钥文件的权限：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 777 0x43d3b352c673d8729a238e3606c118ef232b63d9.pem</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>重新进入控制台，输入命令，查看文件中可用的地址：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listAccount</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>切换账号成 admin ：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[group0]: /apps&gt; loadAccount 0x43d3b352c673d8729a238e3606c118ef232b63d9</span><br><span class="line">Load account 0x43d3b352c673d8729a238e3606c118ef232b63d9 success!</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><p>试试管理员才能使用的增加余额：</p><p><img src="/image1/20250701093251181.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查看余额</span><br></pre></td></tr></table></figure><p><img src="/image1/20250701093253725.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h4 id="5-链接metamask并在remix里编译部署一个智能合约"><a href="#5-链接metamask并在remix里编译部署一个智能合约" class="headerlink" title="5.链接metamask并在remix里编译部署一个智能合约"></a>5.链接metamask并在remix里编译部署一个智能合约</h4><blockquote><p>metamask如何使用，网上有很多详细的介绍，在这里不在具体讲解</p></blockquote><p>配置网络（ip要替换为你的虚拟机ip）</p><p><img src="/image1/20250701093255657.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p><img src="/image1/20250701093259050.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>我这里添加了两个账户，均可以正常显示</p><h4 id="6-编译部署合约："><a href="#6-编译部署合约：" class="headerlink" title="6.编译部署合约："></a>6.编译部署合约：</h4><p><img src="/image1/20250701093303082.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>每次执行合约操作时会调出小狐狸钱包进行交换，点击确认。</p><p><img src="/image1/20250701093327185.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>部署成功！调用其他功能也是可以的。</p><p>7.调用合约可能出现的报错</p><blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">If the transaction failed for not having enough gas, try increasing the gas limit gently.</span><br></pre></td></tr></table></figure></blockquote><p>解决：选中Custom,增大Gas限制</p><p><img src="/image1/20250701093305505.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p>附上我测试使用的合约</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.6.10;</span><br><span class="line">pragma experimental ABIEncoderV2;</span><br><span class="line">contract CarRentalContract &#123;</span><br><span class="line">    // 定义租赁记录结构体</span><br><span class="line">    struct RentalRecord &#123;</span><br><span class="line">        string userId;</span><br><span class="line">        string carId;</span><br><span class="line">        string createTime;</span><br><span class="line">        string type1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    mapping(string =&gt; RentalRecord) public carIdToRentalRecord;</span><br><span class="line"></span><br><span class="line">    event RentalRecordAdded(</span><br><span class="line">        string indexed carId,</span><br><span class="line">        string userId,</span><br><span class="line">        string createTime,</span><br><span class="line">        string type1</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    // 添加租赁记录的函数</span><br><span class="line">    function addRentalRecord(</span><br><span class="line">        string memory _userId,</span><br><span class="line">        string memory _carId,</span><br><span class="line">        string memory _createTime,</span><br><span class="line">        string memory _type</span><br><span class="line">    ) public &#123;</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">       </span><br><span class="line">        RentalRecord memory newRecord = RentalRecord(&#123;</span><br><span class="line">            userId: _userId,</span><br><span class="line">            carId: _carId,</span><br><span class="line">            createTime: _createTime,</span><br><span class="line">            type1: _type</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        carIdToRentalRecord[_carId] = newRecord;</span><br><span class="line"></span><br><span class="line">        emit RentalRecordAdded(_carId, _userId, _createTime, _type);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 查询租赁记录的函数</span><br><span class="line">    function getRentalRecord(</span><br><span class="line">        string memory _carId</span><br><span class="line">    )</span><br><span class="line">        public</span><br><span class="line">        view</span><br><span class="line">        returns (</span><br><span class="line">            string memory userId,</span><br><span class="line">            string memory carId,</span><br><span class="line">            string memory createTime,</span><br><span class="line">            string memory type1</span><br><span class="line">        )</span><br><span class="line">    &#123;</span><br><span class="line">      </span><br><span class="line">        require(</span><br><span class="line">            bytes(carIdToRentalRecord[_carId].carId).length != 0,</span><br><span class="line">            &quot;Car ID does not exist&quot;</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        RentalRecord storage record = carIdToRentalRecord[_carId];</span><br><span class="line">        return (record.userId, record.carId, record.createTime, record.type1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p><blockquote><p>如果大家还是下载不下来，私聊我给你安装包文件！</p><p>都看到这里了，还不快点赞！</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 区块链 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>通过QQ微信的C盘快速清理方式</title>
      <link href="/2025/07/01/%E9%80%9A%E8%BF%87qq%E5%92%8C%E5%BE%AE%E4%BF%A1%E7%9A%84%E5%BF%AB%E9%80%9F%E6%B8%85%E7%90%86c%E7%9B%98/"/>
      <url>/2025/07/01/%E9%80%9A%E8%BF%87qq%E5%92%8C%E5%BE%AE%E4%BF%A1%E7%9A%84%E5%BF%AB%E9%80%9F%E6%B8%85%E7%90%86c%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<p> <strong>目录</strong></p><p><a href="#一、清理临时缓存文件。">一、清理临时缓存文件。</a></p><p><a href="# 二、清理微信"> 二、清理微信</a></p><p><a href="# 三、清理QQ"> 三、清理QQ</a></p><hr><p>可能电脑小白不知道，qq和微信的聊天记录会默认记录在C盘，占用的内存会非常高。所以清理QQ和微信是最简单的C盘清理方法。</p><h3 id="一、清理临时缓存文件。"><a href="#一、清理临时缓存文件。" class="headerlink" title="一、清理临时缓存文件。"></a>一、清理临时缓存文件。</h3><p>1.win加R 输入%temp%，全选（Ctrl+A）删除。（结束后再清理一下回收站）</p><p><img src="/image1/fbbc3864d1317a9ec5f444abf1fb9768.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h3 id="二、清理微信"><a href="#二、清理微信" class="headerlink" title="二、清理微信"></a>二、清理微信</h3><p>1.打开微信，进入设置</p><p><img src="/image1/6a38ab58b52ded31c979b164b7196d29.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 注：我这是清理之后的</p><p>2.把文件默认保存更改到D盘</p><p><img src="/image1/bce65ec9951f98a2659c655d2451165c.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><h3 id="三、清理QQ"><a href="#三、清理QQ" class="headerlink" title="三、清理QQ"></a>三、清理QQ</h3><p>1.进入QQ设置，打开个人文件夹。</p><p><img src="/image1/b2cb51eea9e3e7da43b7852a13c35819.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 2.清理Msg开头的这两个聊天记录文件</p><p><img src="/image1/92e7cb81c6fd76d0e438ac69774a8b56.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 3.修改文件存放目录到D盘</p><p><img src="/image1/19a963010a31820c285ccbe055a050fc.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p><p> 操作之前我只剩3G，操作之后剩16G，嘻嘻。（有帮助的话点个赞）</p><p><img src="/image1/53afbc821f3808b2c1e7469544b51dc7.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">编辑</p>]]></content>
      
      
      <categories>
          
          <category> 其他 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
